{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adlan/multas/multas/app/asesor/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { LayoutGrid } from \"lucide-react\";\r\n\r\ntype Plantilla = {\r\n  id: number;\r\n  nombre?: string;\r\n  subproducto?: string;\r\n  url?: string | null;\r\n};\r\n\r\nexport default function DashboardAsesorPage() {\r\n  const [plantillas, setPlantillas] = useState<Plantilla[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [toast, setToast] = useState(\"\");\r\n\r\n  const fetchPlantillas = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(\"/api/plantillas\", { cache: \"no-store\" });\r\n      if (!res.ok) throw new Error(\"Error al cargar plantillas\");\r\n      const data = await res.json();\r\n      setPlantillas(Array.isArray(data) ? data : []);\r\n    } catch {\r\n      setPlantillas([\r\n        { id: 1, nombre: \"Plantilla A\", subproducto: \"Crédito Personal\", url: null },\r\n        { id: 2, nombre: \"Plantilla B\", subproducto: \"Préstamo Vehicular\", url: null },\r\n      ]);\r\n      setToast(\"Mostrando datos de ejemplo\");\r\n      setTimeout(() => setToast(\"\"), 1500);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPlantillas();\r\n  }, []);\r\n\r\n  return (\r\n    // ✅ Aquí NO ponemos background ni main con paddingLeft (eso ya lo hace el layout)\r\n    <div className=\"min-h-screen\">\r\n      {/* Header */}\r\n      <div className=\"flex items-start justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl sm:text-4xl font-semibold tracking-tight\">\r\n            Dashboard Asesor\r\n          </h1>\r\n          <p className=\"text-slate-500 mt-2\">Selecciona una plantilla para editar.</p>\r\n        </div>\r\n\r\n        <div\r\n          className=\"\r\n            hidden sm:flex items-center gap-2\r\n            px-4 py-2 rounded-2xl\r\n            bg-white/60 backdrop-blur-xl\r\n            border border-slate-200/60\r\n            shadow-sm\r\n            text-sm text-slate-600\r\n          \"\r\n        >\r\n          <LayoutGrid size={16} />\r\n          Plantillas\r\n        </div>\r\n      </div>\r\n\r\n      {toast && (\r\n        <div className=\"mt-5 rounded-2xl bg-white/60 border border-slate-200/60 px-4 py-3 text-slate-700 shadow-sm\">\r\n          {toast}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mt-8 border-t border-slate-200/70\" />\r\n\r\n      {/* Grid */}\r\n      <section className=\"mt-8\">\r\n        {loading ? (\r\n          <div className=\"rounded-3xl bg-white/55 border border-slate-200/60 shadow-[0_8px_30px_rgba(15,23,42,0.06)] p-6 text-slate-500\">\r\n            Cargando plantillas…\r\n          </div>\r\n        ) : plantillas.length === 0 ? (\r\n          <div className=\"rounded-3xl bg-white/55 border border-slate-200/60 shadow-[0_8px_30px_rgba(15,23,42,0.06)] p-6 text-slate-500\">\r\n            No hay plantillas disponibles.\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {plantillas.map((p) => (\r\n              <Link\r\n                key={p.id}\r\n                href={`/asesor/plantilla/${p.id}`}\r\n                className=\"\r\n                  group\r\n                  rounded-3xl\r\n                  bg-white/55 backdrop-blur-xl\r\n                  border border-slate-200/60\r\n                  shadow-[0_8px_30px_rgba(15,23,42,0.06)]\r\n                  p-5\r\n                  hover:shadow-[0_12px_40px_rgba(15,23,42,0.10)]\r\n                  hover:-translate-y-0.5\r\n                  transition\r\n                  flex flex-col\r\n                \"\r\n              >\r\n                {p.url ? (\r\n                  <img\r\n                    src={p.url}\r\n                    alt={p.subproducto || `Plantilla ${p.id}`}\r\n                    className=\"w-full h-36 object-cover rounded-2xl border border-slate-200/60 bg-white/60\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-full h-36 rounded-2xl border border-slate-200/60 bg-white/60 flex items-center justify-center text-slate-500\">\r\n                    Sin imagen\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"mt-4 min-w-0\">\r\n                  <h2 className=\"text-lg font-semibold text-slate-900 truncate\">\r\n                    {p.nombre || `Plantilla #${p.id}`}\r\n                  </h2>\r\n                  <p className=\"text-sm text-slate-500 mt-1 truncate\">\r\n                    Subproducto: {p.subproducto || \"—\"}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"mt-5\">\r\n                  <div\r\n                    className=\"\r\n                      w-full text-center\r\n                      px-4 py-3 rounded-2xl\r\n                      bg-gradient-to-r from-sky-700 to-slate-800\r\n                      text-white font-semibold\r\n                      shadow-sm\r\n                      group-hover:from-sky-800 group-hover:to-slate-900\r\n                      transition\r\n                    \"\r\n                  >\r\n                    Editar →\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAae,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,qOAAQ,EAAc,EAAE;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qOAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qOAAQ,EAAC;IAEnC,MAAM,kBAAkB;QACtB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,mBAAmB;gBAAE,OAAO;YAAW;YAC/D,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,cAAc,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;QAC/C,EAAE,OAAM;YACN,cAAc;gBACZ;oBAAE,IAAI;oBAAG,QAAQ;oBAAe,aAAa;oBAAoB,KAAK;gBAAK;gBAC3E;oBAAE,IAAI;oBAAG,QAAQ;oBAAe,aAAa;oBAAsB,KAAK;gBAAK;aAC9E;YACD,SAAS;YACT,WAAW,IAAM,SAAS,KAAK;QACjC,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,sOAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,OACE,kFAAkF;kBAClF,kQAAC;QAAI,WAAU;;0BAEb,kQAAC;gBAAI,WAAU;;kCACb,kQAAC;;0CACC,kQAAC;gCAAG,WAAU;0CAAoD;;;;;;0CAGlE,kQAAC;gCAAE,WAAU;0CAAsB;;;;;;;;;;;;kCAGrC,kQAAC;wBACC,WAAU;;0CASV,kQAAC,oPAAU;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;YAK3B,uBACC,kQAAC;gBAAI,WAAU;0BACZ;;;;;;0BAIL,kQAAC;gBAAI,WAAU;;;;;;0BAGf,kQAAC;gBAAQ,WAAU;0BAChB,wBACC,kQAAC;oBAAI,WAAU;8BAAgH;;;;;2BAG7H,WAAW,MAAM,KAAK,kBACxB,kQAAC;oBAAI,WAAU;8BAAgH;;;;;yCAI/H,kQAAC;oBAAI,WAAU;8BACZ,WAAW,GAAG,CAAC,CAAC,kBACf,kQAAC,2LAAI;4BAEH,MAAM,CAAC,kBAAkB,EAAE,EAAE,EAAE,EAAE;4BACjC,WAAU;;gCAaT,EAAE,GAAG,iBACJ,kQAAC;oCACC,KAAK,EAAE,GAAG;oCACV,KAAK,EAAE,WAAW,IAAI,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;oCACzC,WAAU;;;;;yDAGZ,kQAAC;oCAAI,WAAU;8CAAiH;;;;;;8CAKlI,kQAAC;oCAAI,WAAU;;sDACb,kQAAC;4CAAG,WAAU;sDACX,EAAE,MAAM,IAAI,CAAC,WAAW,EAAE,EAAE,EAAE,EAAE;;;;;;sDAEnC,kQAAC;4CAAE,WAAU;;gDAAuC;gDACpC,EAAE,WAAW,IAAI;;;;;;;;;;;;;8CAInC,kQAAC;oCAAI,WAAU;8CACb,cAAA,kQAAC;wCACC,WAAU;kDASX;;;;;;;;;;;;2BA/CE,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;AA0DzB"}}]
}