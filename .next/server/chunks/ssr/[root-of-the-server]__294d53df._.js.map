{"version":3,"sources":["../../../../../../multas/multas/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../../multas/multas/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../../multas/multas/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../../multas/multas/app/pago/%5Btoken%5D/static.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\n\r\nexport default function PagoFastCashStatic({ token }: { token: string }) {\r\n  const [data, setData] = useState<any>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const origin = useMemo(() => {\r\n    if (typeof window === \"undefined\") return \"\";\r\n    return window.location.origin;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      setError(\"Token no recibido en la URL\");\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`/api/plantillas-temporales/${token}`, {\r\n          cache: \"no-store\",\r\n        });\r\n        const json = await res.json().catch(() => ({}));\r\n\r\n        if (!res.ok) {\r\n          setError(json?.error || \"Error cargando plantilla\");\r\n          return;\r\n        }\r\n\r\n        setData(json);\r\n      } catch (e) {\r\n        setError(\"Error de conexión\");\r\n      }\r\n    })();\r\n  }, [token]);\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black text-white p-10\">\r\n        <div className=\"text-red-400 font-semibold\">Error:</div>\r\n        <div className=\"mt-2\">{error}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!data) {\r\n    return <div className=\"min-h-screen bg-black text-white p-10\">Cargando...</div>;\r\n  }\r\n\r\n  const cardBg = data.card_bg_color || \"#FFFFFF\";\r\n  const primaryColor = data.primary_color || \"#0F56F7\";\r\n\r\n  // ✅ logo soporta varios nombres\r\n  const logoRaw =\r\n    data.logo_url ?? data.url ?? data.imagen_url ?? data.logoUrl ?? null;\r\n\r\n  // ✅ convertir a absoluta en cliente si viene \"/uploads/...\"\r\n  const logoUrl =\r\n    logoRaw && typeof logoRaw === \"string\" && logoRaw.startsWith(\"/\")\r\n      ? `${origin}${logoRaw}`\r\n      : logoRaw;\r\n\r\n  const formatDateReadable = (iso: string | null) => {\r\n    if (!iso) return \"—\";\r\n    try {\r\n      return new Date(iso + \"T00:00:00\").toLocaleDateString(undefined, {\r\n        day: \"2-digit\",\r\n        month: \"long\",\r\n        year: \"numeric\",\r\n      });\r\n    } catch {\r\n      return String(iso);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full min-h-screen flex items-center justify-center p-6 bg-[#152032]\">\r\n      <div\r\n        className=\"w-[420px] rounded-2xl overflow-hidden shadow-[0_20px_40px_rgba(0,0,0,0.45)]\"\r\n        style={{ backgroundColor: cardBg }}\r\n      >\r\n        {/* HEADER */}\r\n        <div\r\n          className=\"w-full h-[160px] flex flex-col items-center pt-6\"\r\n          style={{ background: \"linear-gradient(180deg,#5CB0FF 0%,#A3D4FF 100%)\" }}\r\n        >\r\n          <div className=\"w-16 h-16 bg-white rounded-xl flex items-center justify-center overflow-hidden shadow\">\r\n            {logoUrl ? (\r\n              <img\r\n                src={logoUrl}\r\n                className=\"w-full h-full object-cover\"\r\n                alt=\"logo\"\r\n              />\r\n            ) : (\r\n              <span className=\"text-lg font-bold text-[#142546]\">IMG</span>\r\n            )}\r\n          </div>\r\n\r\n          <h2 className=\"text-lg font-bold text-[#142546] mt-4\">\r\n            {data.producto ?? data.subproducto ?? \"Producto\"}\r\n          </h2>\r\n        </div>\r\n\r\n        {/* MONTO (solo texto) */}\r\n        <div\r\n          className=\"mx-4 -mt-4 rounded-xl p-4 text-white shadow-md\"\r\n          style={{ backgroundColor: primaryColor }}\r\n        >\r\n          <div className=\"text-xs opacity-90\">Monto de Préstamo</div>\r\n          <div className=\"text-3xl font-bold\">{data.monto ?? \"$0.00\"}</div>\r\n        </div>\r\n\r\n        {/* CONTENIDO */}\r\n        <div className=\"px-4 py-5 flex flex-col gap-4\">\r\n          <div className=\"rounded-xl border p-3 shadow-sm\" style={{ backgroundColor: cardBg }}>\r\n            <div className=\"flex justify-between items-center py-3 border-b\">\r\n              <span className=\"text-sm font-medium text-gray-700\">Producto</span>\r\n              <span className=\"text-sm text-gray-600\">\r\n                {data.producto ?? data.subproducto ?? \"—\"}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between items-center py-3 border-b\">\r\n              <span className=\"text-sm font-medium text-gray-700\">Importe a Pagar</span>\r\n              <span className=\"text-sm font-semibold text-gray-600\">\r\n                {data.importe_pagar ?? \"—\"}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between items-center py-3 border-b\">\r\n              <span className=\"text-sm font-medium text-gray-700\">Fecha Vencimiento</span>\r\n              <div className=\"text-sm text-gray-600\">\r\n                {formatDateReadable(data.fecha_vencimiento ?? null)}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between items-center py-3\">\r\n              <span className=\"text-sm font-medium text-gray-700\">Días vencimiento</span>\r\n              <span className=\"text-sm text-gray-500\">\r\n                {data.dias_vencidos ?? 0} días\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SPEI */}\r\n          <div className=\"rounded-xl p-3 shadow-sm\" style={{ backgroundColor: cardBg }}>\r\n            <div className=\"text-sm font-medium text-gray-700 mb-2\">\r\n              Elige el método de pago\r\n            </div>\r\n            <div className=\"flex items-center justify-center bg-[#F8FAFB] p-4 rounded-md\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xs text-gray-500\">SPEI</div>\r\n                <div className=\"text-lg md:text-xl lg:text-2xl font-extrabold text-gray-700 mt-1\">\r\n                  {data.cuenta_bancaria ?? \"—\"}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* EXTRAS */}\r\n          {data.mostrar_extras && (\r\n            <div className=\"rounded-xl p-3 shadow-sm\" style={{ backgroundColor: cardBg }}>\r\n              <div className=\"flex justify-between items-center py-2 border-b\">\r\n                <span className=\"text-sm font-medium text-gray-700\">Nombre</span>\r\n                <span className=\"text-sm text-gray-700\">\r\n                  {data.nombre_cliente ?? \"—\"}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"flex justify-between items-center py-2\">\r\n                <span className=\"text-sm font-medium text-gray-700\">Teléfono</span>\r\n                <span className=\"text-sm text-gray-700\">\r\n                  {data.telefono_cliente ?? \"—\"}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2]}