module.exports=[19460,(a,b,c)=>{"use strict";b.exports=a.r(95696).vendored["react-ssr"].ReactServerDOMTurbopackClient},81927,(a,b,c)=>{"use strict";b.exports=a.r(95696).vendored.contexts.HooksClientContext},75384,(a,b,c)=>{"use strict";b.exports=a.r(95696).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},95696,(a,b,c)=>{"use strict";b.exports=a.r(18622)},24183,(a,b,c)=>{"use strict";b.exports=a.r(95696).vendored["react-ssr"].ReactJsxRuntime},34041,(a,b,c)=>{"use strict";b.exports=a.r(95696).vendored["react-ssr"].React},89117,(a,b,c)=>{"use strict";b.exports=a.r(95696).vendored.contexts.AppRouterContext},60847,a=>{"use strict";var b=a.i(24183),c=a.i(52921),d=a.i(34041);let e=a=>{if(!a)return null;let b=String(a).trim().replaceAll("\\","/");return/^https?:\/\//i.test(b)||(b.startsWith("public/uploads/")&&(b=b.replace("public/","")),b.startsWith("uploads/")&&(b=`/${b}`),b.startsWith("/"))?b:`/${b}`},f="/pago";function g(a){if(a.link)try{if(/^https?:\/\//i.test(a.link)){let b=new URL(a.link);return`${b.pathname}${b.search}${b.hash}`}let b=a.link.startsWith("/")?a.link:`/${a.link}`;return`${b}`}catch{let b=a.link.startsWith("/")?a.link:`/${a.link}`;return`${b}`}let b=a.uuid?.trim()||a.token?.trim()||a.public_id?.trim()||null;return b?`${f}/${encodeURIComponent(b)}`:`${f}/${encodeURIComponent(String(a.id))}`}function h(){let[a,c]=(0,d.useState)([]),[f,h]=(0,d.useState)(!0),[i,j]=(0,d.useState)(!1),[k,l]=(0,d.useState)(null),[m,n]=(0,d.useState)("");async function o(){h(!0);try{let a=await fetch("/api/bases-pago/listar",{cache:"no-store"}),b=await a.json();c(Array.isArray(b)?b:[])}finally{h(!1)}}async function p(a){let b=await fetch(`/api/bases-pago/ver/${a}`,{cache:"no-store"}),c=await b.json();if(!b.ok){n(c?.error||"Error al ver"),setTimeout(()=>n(""),2e3);return}l(c),j(!0)}async function q(){if(!confirm("¿Borrar TODAS las plantillas temporales?"))return;let a=await fetch("/api/bases-pago/borrar-todo",{method:"DELETE"}),b=await a.json().catch(()=>({}));if(!a.ok){n(b?.error||"No se pudo borrar todo"),setTimeout(()=>n(""),2e3);return}n("Borradas ✔"),setTimeout(()=>n(""),2e3),j(!1),l(null),await o()}async function r(a){let b=g(a);await navigator.clipboard.writeText(b),n("Link copiado ✔"),setTimeout(()=>n(""),1500)}(0,d.useEffect)(()=>{o()},[]);let s=(0,d.useMemo)(()=>"Bases (plantillas_temporales)",[]);return(0,b.jsx)("div",{className:"min-h-screen text-slate-900 bg-gradient-to-b from-slate-50 via-sky-50/60 to-slate-100 px-6 sm:px-10 py-8 sm:py-10",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl sm:text-4xl font-semibold tracking-tight",children:s}),(0,b.jsx)("p",{className:"text-slate-500 mt-2",children:"Listado de ligas de pago guardadas."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:o,className:"   px-4 py-3 rounded-2xl   bg-white/60 backdrop-blur-xl   border border-slate-200/70   text-slate-700 font-medium   shadow-sm   hover:bg-white   transition   ",type:"button",children:"Refrescar"}),(0,b.jsx)("button",{onClick:q,className:"   px-4 py-3 rounded-2xl   bg-red-600/90 text-white font-semibold   shadow-sm   hover:bg-red-700   transition   ",type:"button",children:"Borrar todo"})]})]}),m&&(0,b.jsx)("div",{className:"   mt-5   rounded-2xl   bg-white/60 backdrop-blur-xl   border border-slate-200/60   px-4 py-3   text-slate-700   shadow-sm   ",children:m}),(0,b.jsxs)("section",{className:"   mt-8   rounded-3xl   bg-white/55 backdrop-blur-xl   border border-slate-200/60   shadow-[0_8px_30px_rgba(15,23,42,0.06)]   overflow-hidden   ",children:[(0,b.jsxs)("div",{className:"p-4 sm:p-5 border-b border-slate-200/60 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:"Plantillas"}),(0,b.jsxs)("span",{className:"text-sm text-slate-500",children:[a.length," registros"]})]}),f?(0,b.jsx)("div",{className:"p-6 text-slate-500",children:"Cargando…"}):0===a.length?(0,b.jsx)("div",{className:"p-6 text-slate-500",children:"No hay registros."}):(0,b.jsx)("div",{className:"divide-y divide-slate-200/60",children:a.map(a=>{let c=a.logo_url||a.url||null,d=c?e(c):null;return(0,b.jsxs)("div",{className:"   p-4 sm:p-5   flex items-center justify-between gap-4   hover:bg-white/50 transition   ",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,b.jsx)("div",{className:"   w-12 h-12 rounded-2xl   bg-white/60   border border-slate-200/60   shadow-sm   overflow-hidden   flex items-center justify-center   ",children:d?(0,b.jsx)("img",{src:d,alt:"logo",className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"IMG"})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("div",{className:"font-semibold text-slate-900 truncate",children:a.subproducto||"—"}),(0,b.jsxs)("div",{className:"text-sm text-slate-600 truncate",children:["Cuenta: ",a.cuenta_bancaria||"—"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>r(a),className:"   px-3 py-2 rounded-xl   bg-emerald-600/90 text-white text-sm font-semibold   shadow-sm   hover:bg-emerald-700   transition   ",type:"button",children:"Link"}),(0,b.jsx)("button",{onClick:()=>p(a.id),className:"   px-3 py-2 rounded-xl   bg-sky-600/90 text-white text-sm font-semibold   shadow-sm   hover:bg-sky-700   transition   ",type:"button",children:"Ver"})]})]},a.id)})})]}),i&&k&&(0,b.jsx)("div",{className:"fixed inset-0 z-[10000] bg-black/40 backdrop-blur-sm flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"   w-full max-w-2xl   rounded-3xl   bg-white/70 backdrop-blur-xl   border border-slate-200/70   shadow-[0_20px_60px_rgba(15,23,42,0.18)]   overflow-hidden   ",children:[(0,b.jsxs)("div",{className:"p-4 sm:p-5 border-b border-slate-200/70 flex items-center justify-between",children:[(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:"Vista"}),(0,b.jsx)("button",{onClick:()=>{j(!1),l(null)},className:"   px-4 py-2 rounded-2xl   bg-white/60   border border-slate-200/70   text-slate-700 font-medium   hover:bg-white   transition   ",type:"button",children:"Cerrar"})]}),(0,b.jsxs)("div",{className:"p-4 sm:p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["ID: ",k.id]}),(0,b.jsx)("div",{className:"text-2xl sm:text-3xl font-semibold text-slate-900",children:k.subproducto||"—"}),(0,b.jsxs)("div",{className:"text-slate-700",children:["Cuenta: ",(0,b.jsx)("b",{children:k.cuenta_bancaria||"—"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"rounded-2xl bg-white/60 border border-slate-200/70 p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Monto"}),(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:k.monto??"—"})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white/60 border border-slate-200/70 p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Importe"}),(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:k.importe_pagar??"—"})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white/60 border border-slate-200/70 p-4 sm:col-span-2",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Vencimiento"}),(0,b.jsx)("div",{className:"font-semibold text-slate-900",children:k.fecha_vencimiento||"—"})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white/60 border border-slate-200/70 p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 mb-2",children:"Liga"}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,b.jsx)("input",{readOnly:!0,className:"   flex-1   rounded-2xl   bg-white/70   border border-slate-200/70   px-4 py-3   text-sm text-slate-700   outline-none   ",value:g(k)}),(0,b.jsx)("button",{onClick:()=>r(k),className:"   px-4 py-3 rounded-2xl   bg-emerald-600/90 text-white font-semibold   shadow-sm   hover:bg-emerald-700   transition   ",type:"button",children:"Copiar"})]})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-white/60 border border-slate-200/70 p-4",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 mb-2",children:"Logo"}),(0,b.jsx)("div",{className:"w-24 h-24 rounded-3xl bg-white/70 border border-slate-200/70 shadow-sm overflow-hidden flex items-center justify-center",children:e(k.logo_url||k.url)?(0,b.jsx)("img",{src:e(k.logo_url||k.url),alt:"logo",className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"IMG"})})]}),(0,b.jsx)("div",{className:"flex justify-end pt-1",children:(0,b.jsx)("button",{onClick:()=>r(k),className:"   px-4 py-3 rounded-2xl   bg-gradient-to-r from-emerald-600/95 to-sky-700/95   text-white font-semibold   shadow-sm   hover:from-emerald-700 hover:to-sky-800   transition   ",type:"button",children:"Copiar link"})})]})]})})]})})}function i(){return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-sky-50/60 to-slate-100 text-slate-900",children:[(0,b.jsx)(c.default,{}),(0,b.jsx)("main",{className:"   min-h-screen   transition-[padding] duration-300   ",style:{paddingLeft:"min(var(--sidebar-w), 88px)"},children:(0,b.jsx)(h,{})})]})}a.s(["default",()=>i],60847)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__727fbef6._.js.map