{"version":3,"sources":["../../../../../../multas/multas/app/asesor/plantilla/%5Bid%5D/layout.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\r\nimport { getSession, requireRole } from \"@/lib/checkSession\";\r\n\r\nexport default async function GestionLayout({ children }: { children: React.ReactNode }) {\r\n  const session = await getSession();\r\n\r\n  const isLoginPage = (typeof window !== \"undefined\"\r\n    ? window.location.pathname === \"/asesor\"\r\n    : false);\r\n\r\n  // No proteger la pantalla de login\r\n  if (isLoginPage) return <>{children}</>;\r\n\r\n  // Si no hay sesi√≥n, mandar a login de asesor\r\n  if (!session) redirect(\"/asesor\");\r\n\r\n  // Validar rol\r\n  if (!requireRole(session, [\"asesor\"])) redirect(\"/\");\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":"mPAAA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAEe,eAAe,EAAc,UAAE,CAAQ,CAAiC,EACrF,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,UAAA,AAAU,IAehC,OALI,AAAC,GAAS,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,WAGlB,AAAD,CAAC,EAAA,EAAA,WAAA,AAAW,EAAC,EAAS,CAAC,SAAS,GAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,KAEzC,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,GACZ"}