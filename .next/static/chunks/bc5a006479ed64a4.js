(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75092,e=>{"use strict";var t=e.i(17386),a=e.i(2439);function l({onCreated:e}){let[l,s]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[n,i]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[u,x]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null);function b(){s(""),o(""),i(null),p(null),d&&URL.revokeObjectURL(d),c(null);let e=document.getElementById("fileInputTemplate");e&&(e.value="")}async function h(t){if(t.preventDefault(),p(null),!l.trim()||!r.trim())return void p("Completa número de cuenta y subproducto.");if(!n)return void p("Selecciona una imagen.");x(!0);try{let t=new FormData;t.append("cuenta_bancaria",l),t.append("subproducto",r),t.append("url",n,n.name);let a=await fetch("/api/plantillas",{method:"POST",body:t}),s=await a.json();if(!a.ok)return void p(s?.error||"Error al crear plantilla");p("Plantilla creada ✔"),b(),e?.()}catch(e){console.error(e),p("Error de conexión")}finally{x(!1)}}return(0,a.useEffect)(()=>()=>{d&&URL.revokeObjectURL(d)},[d]),(0,t.jsxs)("form",{onSubmit:h,className:"   rounded-3xl   bg-white/55 backdrop-blur-xl   border border-slate-200/60   shadow-[0_8px_30px_rgba(15,23,42,0.06)]   p-5 sm:p-6   space-y-4   ",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Nueva plantilla"}),(0,t.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Completa los datos y sube una imagen."})]}),(0,t.jsx)("span",{className:"   hidden sm:inline-flex   text-xs text-slate-600   px-3 py-1.5 rounded-2xl   bg-white/60 border border-slate-200/60   shadow-sm   ",children:"Plantillas"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Cuenta bancaria"}),(0,t.jsx)("input",{value:l,onChange:e=>s(e.target.value),name:"cuenta_bancaria",placeholder:"Número de cuenta",className:"   w-full   rounded-2xl   bg-white/70   border border-slate-200/70   px-4 py-3   text-slate-900 placeholder:text-slate-400   shadow-sm   outline-none   focus:ring-2 focus:ring-sky-300/60   focus:border-sky-200/60   transition   "})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Subproducto"}),(0,t.jsx)("input",{value:r,onChange:e=>o(e.target.value),name:"subproducto",placeholder:"Subproducto",className:"   w-full   rounded-2xl   bg-white/70   border border-slate-200/70   px-4 py-3   text-slate-900 placeholder:text-slate-400   shadow-sm   outline-none   focus:ring-2 focus:ring-sky-300/60   focus:border-sky-200/60   transition   "})]})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Imagen"}),(0,t.jsx)("input",{id:"fileInputTemplate",name:"url",type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0]||null;i(t),d&&URL.revokeObjectURL(d),c(t?URL.createObjectURL(t):null)},className:"   w-full   rounded-2xl   bg-white/70   border border-slate-200/70   px-4 py-3   text-slate-700   shadow-sm   outline-none   focus:ring-2 focus:ring-sky-300/60   focus:border-sky-200/60   transition   file:mr-3   file:rounded-xl   file:border file:border-slate-200/60   file:bg-white/70   file:px-3 file:py-2   file:text-slate-700   hover:file:bg-white   "}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Formatos recomendados: JPG, PNG."})]}),d&&(0,t.jsx)("div",{className:"   rounded-3xl   bg-white/45   border border-slate-200/60   p-3   shadow-sm   ",children:(0,t.jsx)("img",{src:d,alt:"Vista previa",className:"w-full max-w-md h-48 object-cover rounded-2xl border border-slate-200/60"})}),(0,t.jsxs)("div",{className:"text-black flex flex-wrap gap-2 pt-1",children:[(0,t.jsx)("button",{type:"submit",disabled:u,className:"   px-4 py-3   rounded-2xl   bg-gradient-to-r from-sky-700 to-slate-800   text-white font-semibold   shadow-sm   hover:from-sky-800 hover:to-slate-900   transition   disabled:opacity-60 disabled:cursor-not-allowed   ",children:u?"Creando...":"Crear plantilla"}),(0,t.jsx)("button",{type:"button",onClick:b,className:"   px-4 py-3   rounded-2xl   bg-white/60   border border-slate-200/70   text-slate-700 font-medium   hover:bg-white   transition   ",children:"Limpiar"})]}),m&&(0,t.jsx)("div",{className:"   rounded-2xl   bg-white/60   border border-slate-200/60   px-4 py-3   text-sm   text-slate-700   ",children:m})]})}e.s(["default",()=>l])}]);